<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LePrompt - AI Development Automation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .main-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .question-section {
            margin-bottom: 40px;
        }

        .question-title {
            font-size: 2rem;
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .input-group input, .input-group textarea, .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus, .input-group textarea:focus, .input-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .feature-card {
            background: #f8f9ff;
            border: 2px solid #e1e5e9;
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .feature-card.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .feature-card h3 {
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        .feature-card p {
            opacity: 0.8;
            line-height: 1.5;
        }

        .add-feature-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
            margin-bottom: 20px;
        }

        .add-feature-btn:hover {
            background: #218838;
        }

        .custom-feature {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .generate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .output-section {
            background: #1a1a1a;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            min-height: 200px;
            display: none;
        }

        .output-section.show {
            display: block;
        }

        .loading {
            text-align: center;
            padding: 40px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .step {
            padding: 10px 20px;
            background: #e1e5e9;
            margin: 0 5px;
            border-radius: 20px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .step.active {
            background: #667eea;
            color: white;
        }

        .step.completed {
            background: #28a745;
            color: white;
        }

        .deployment-section {
            background: #d4edda;
            border: 2px solid #c3e6cb;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .deployment-section.show {
            display: block;
        }

        .copy-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 10px;
            font-size: 14px;
        }

        .copy-btn:hover {
            background: #0056b3;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸš€ LePrompt</h1>
            <p>AI-Powered Development Automation with IBM Granite</p>
        </div>

        <div class="step-indicator">
            <div class="step active" data-step="1">Define Project</div>
            <div class="step" data-step="2">Select Features</div>
            <div class="step" data-step="3">Arrange & Build</div>
            <div class="step" data-step="4">Deploy</div>
        </div>

        <div class="main-content">
            <!-- Step 1: Project Definition -->
            <div id="step1" class="step-content">
                <div class="question-section">
                    <h2 class="question-title">What do you want to build?</h2>
                    <div class="input-group">
                        <label for="projectName">Project Name</label>
                        <input type="text" id="projectName" placeholder="Enter your project name">
                    </div>
                    <div class="input-group">
                        <label for="projectDescription">Project Description</label>
                        <textarea id="projectDescription" rows="4" placeholder="Describe what you want to build..."></textarea>
                    </div>
                    <div class="input-group">
                        <label for="projectType">Project Type</label>
                        <select id="projectType">
                            <option value="">Select project type</option>
                            <option value="webapp">Web Application</option>
                            <option value="api">REST API</option>
                            <option value="mobile">Mobile App</option>
                            <option value="desktop">Desktop Application</option>
                            <option value="microservice">Microservice</option>
                            <option value="dashboard">Dashboard/Admin Panel</option>
                        </select>
                    </div>
                    <button class="generate-btn" onclick="nextStep(2)">Continue to Features â†’</button>
                </div>
            </div>

            <!-- Step 2: Feature Selection -->
            <div id="step2" class="step-content" style="display: none;">
                <div class="question-section">
                    <h2 class="question-title">Select Your Features</h2>
                    <div class="features-grid" id="featuresGrid">
                        <!-- Features will be populated based on project type -->
                    </div>
                    <button class="add-feature-btn" onclick="addCustomFeature()">+ Add Custom Feature</button>
                    <div id="customFeatures"></div>
                    <button class="generate-btn" onclick="nextStep(3)">Arrange Features â†’</button>
                </div>
            </div>

            <!-- Step 3: Arrange Features -->
            <div id="step3" class="step-content" style="display: none;">
                <div class="question-section">
                    <h2 class="question-title">Arrange Your Features</h2>
                    <div class="input-group">
                        <label for="architecture">Choose Architecture Pattern</label>
                        <select id="architecture">
                            <option value="mvc">MVC (Model-View-Controller)</option>
                            <option value="microservices">Microservices</option>
                            <option value="serverless">Serverless</option>
                            <option value="jamstack">JAMstack</option>
                            <option value="spa">Single Page Application</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="techStack">Technology Stack</label>
                        <select id="techStack">
                            <option value="react-node">React + Node.js</option>
                            <option value="vue-express">Vue.js + Express</option>
                            <option value="angular-spring">Angular + Spring Boot</option>
                            <option value="python-flask">Python + Flask</option>
                            <option value="python-django">Python + Django</option>
                            <option value="nextjs">Next.js Full Stack</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="priority">Feature Priority Order</label>
                        <textarea id="priority" rows="4" placeholder="Describe the priority order of your features and any specific requirements..."></textarea>
                    </div>
                    <button class="generate-btn" onclick="generateProject()">ðŸ¤– Generate with IBM Granite AI</button>
                </div>
            </div>

            <!-- Step 4: Build Output -->
            <div id="step4" class="step-content" style="display: none;">
                <div class="question-section">
                    <h2 class="question-title">Your Project is Ready!</h2>
                    <div class="deployment-section show">
                        <h3>ðŸŽ‰ Deployment Successful!</h3>
                        <p>Your AI-generated project has been created and is ready to use.</p>
                        <div style="margin-top: 15px;">
                            <strong>Access your website:</strong>
                            <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin-top: 10px; font-family: monospace;">
                                <span id="deploymentLink">https://your-project.herokuapp.com</span>
                                <button class="copy-btn" onclick="copyLink()">Copy Link</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Loading and Output Sections -->
            <div class="output-section" id="loadingSection">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>IBM Granite AI is generating your project...</p>
                    <p id="loadingStatus">Analyzing requirements...</p>
                </div>
            </div>

            <div class="output-section" id="outputSection">
                <h3>ðŸ¤– IBM Granite AI Generated Code</h3>
                <pre id="generatedCode"></pre>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let selectedFeatures = [];
        let customFeatureCount = 0;

        const featureTemplates = {
            webapp: [
                { name: "User Authentication", description: "Login/Register system with JWT tokens", id: "auth" },
                { name: "Database Integration", description: "MongoDB/PostgreSQL database connectivity", id: "database" },
                { name: "RESTful API", description: "Backend API with CRUD operations", id: "api" },
                { name: "Responsive UI", description: "Mobile-friendly user interface", id: "ui" },
                { name: "File Upload", description: "Image and document upload functionality", id: "upload" },
                { name: "Real-time Chat", description: "WebSocket-based messaging system", id: "chat" },
                { name: "Payment Integration", description: "Stripe/PayPal payment processing", id: "payment" },
                { name: "Admin Dashboard", description: "Admin panel for management", id: "admin" }
            ],
            api: [
                { name: "Authentication Middleware", description: "JWT-based API authentication", id: "auth" },
                { name: "Database Models", description: "Data models with relationships", id: "models" },
                { name: "CRUD Endpoints", description: "Create, Read, Update, Delete operations", id: "crud" },
                { name: "Input Validation", description: "Request data validation and sanitization", id: "validation" },
                { name: "Rate Limiting", description: "API rate limiting and throttling", id: "ratelimit" },
                { name: "Documentation", description: "Auto-generated API documentation", id: "docs" },
                { name: "Testing Suite", description: "Unit and integration tests", id: "testing" },
                { name: "Logging System", description: "Request logging and monitoring", id: "logging" }
            ],
            mobile: [
                { name: "Cross-Platform UI", description: "React Native or Flutter interface", id: "ui" },
                { name: "Offline Storage", description: "Local data caching and sync", id: "offline" },
                { name: "Push Notifications", description: "Firebase push messaging", id: "notifications" },
                { name: "Camera Integration", description: "Photo capture and processing", id: "camera" },
                { name: "GPS Location", description: "Location services and mapping", id: "location" },
                { name: "Biometric Auth", description: "Fingerprint/Face ID authentication", id: "biometric" },
                { name: "Social Sharing", description: "Share to social media platforms", id: "social" },
                { name: "In-App Purchases", description: "Mobile payment integration", id: "purchases" }
            ]
        };

        function nextStep(step) {
            if (step === 2) {
                const projectType = document.getElementById('projectType').value;
                const projectName = document.getElementById('projectName').value;
                
                if (!projectType || !projectName) {
                    alert('Please fill in all required fields');
                    return;
                }
                
                populateFeatures(projectType);
            }
            
            updateStepIndicator(step);
            showStep(step);
            currentStep = step;
        }

        function updateStepIndicator(step) {
            document.querySelectorAll('.step').forEach((el, index) => {
                el.classList.remove('active');
                if (index + 1 < step) {
                    el.classList.add('completed');
                } else if (index + 1 === step) {
                    el.classList.add('active');
                } else {
                    el.classList.remove('completed');
                }
            });
        }

        function showStep(step) {
            document.querySelectorAll('.step-content').forEach(el => {
                el.style.display = 'none';
            });
            document.getElementById(`step${step}`).style.display = 'block';
        }

        function populateFeatures(projectType) {
            const grid = document.getElementById('featuresGrid');
            const features = featureTemplates[projectType] || featureTemplates.webapp;
            
            grid.innerHTML = features.map(feature => `
                <div class="feature-card" onclick="toggleFeature('${feature.id}', this)">
                    <h3>${feature.name}</h3>
                    <p>${feature.description}</p>
                </div>
            `).join('');
        }

        function toggleFeature(featureId, element) {
            element.classList.toggle('selected');
            if (selectedFeatures.includes(featureId)) {
                selectedFeatures = selectedFeatures.filter(f => f !== featureId);
            } else {
                selectedFeatures.push(featureId);
            }
        }

        function addCustomFeature() {
            customFeatureCount++;
            const customFeaturesDiv = document.getElementById('customFeatures');
            const featureHtml = `
                <div class="custom-feature" id="custom-${customFeatureCount}">
                    <div class="input-group">
                        <label>Custom Feature ${customFeatureCount}</label>
                        <input type="text" placeholder="Feature name" id="customName-${customFeatureCount}">
                    </div>
                    <div class="input-group">
                        <textarea rows="2" placeholder="Feature description" id="customDesc-${customFeatureCount}"></textarea>
                    </div>
                    <button style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;" onclick="removeCustomFeature(${customFeatureCount})">Remove</button>
                </div>
            `;
            customFeaturesDiv.insertAdjacentHTML('beforeend', featureHtml);
        }

        function removeCustomFeature(id) {
            document.getElementById(`custom-${id}`).remove();
        }

        async function generateProject() {
            const projectName = document.getElementById('projectName').value;
            const projectDescription = document.getElementById('projectDescription').value;
            const projectType = document.getElementById('projectType').value;
            const architecture = document.getElementById('architecture').value;
            const techStack = document.getElementById('techStack').value;
            const priority = document.getElementById('priority').value;

            // Collect custom features
            const customFeatures = [];
            for (let i = 1; i <= customFeatureCount; i++) {
                const nameEl = document.getElementById(`customName-${i}`);
                const descEl = document.getElementById(`customDesc-${i}`);
                if (nameEl && descEl && nameEl.value) {
                    customFeatures.push({
                        name: nameEl.value,
                        description: descEl.value
                    });
                }
            }

            // Show loading
            document.getElementById('loadingSection').classList.add('show');
            
            // Simulate IBM Granite AI processing
            const loadingMessages = [
                "Analyzing requirements...",
                "Connecting to IBM Granite AI...",
                "Generating project structure...",
                "Creating database schemas...",
                "Implementing features...",
                "Optimizing code...",
                "Running security checks...",
                "Preparing deployment..."
            ];

            for (let i = 0; i < loadingMessages.length; i++) {
                await new Promise(resolve => setTimeout(resolve, 1500));
                document.getElementById('loadingStatus').textContent = loadingMessages[i];
            }

            // Generate mock project structure
            const generatedCode = generateMockCode(projectName, projectType, selectedFeatures, customFeatures, techStack);
            
            // Hide loading and show output
            document.getElementById('loadingSection').classList.remove('show');
            document.getElementById('outputSection').classList.add('show');
            document.getElementById('generatedCode').textContent = generatedCode;

            // Simulate deployment
            setTimeout(() => {
                const randomId = Math.random().toString(36).substring(7);
                const deploymentLink = `https://${projectName.toLowerCase().replace(/\s+/g, '-')}-${randomId}.herokuapp.com`;
                document.getElementById('deploymentLink').textContent = deploymentLink;
                nextStep(4);
            }, 2000);
        }

        function generateMockCode(projectName, projectType, features, customFeatures, techStack) {
            return `
# ${projectName} - AI Generated Project
# Generated by IBM Granite AI via LePrompt

## Project Structure
${projectName}/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ routes/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ tests/
â”œâ”€â”€ public/
â”œâ”€â”€ package.json
â””â”€â”€ README.md

## Selected Features Implementation
${features.map(f => `- ${f}: Implemented with ${techStack}`).join('\n')}
${customFeatures.map(f => `- ${f.name}: ${f.description}`).join('\n')}

## IBM Granite AI Generated Code Snippet

// Main Application Entry Point
const express = require('express');
const app = express();

// AI-Generated Feature Modules
${features.map(f => `const ${f}Service = require('./services/${f}Service');`).join('\n')}

// IBM Granite AI Optimized Middleware
app.use(express.json());
app.use(express.static('public'));

// AI-Generated Routes
${features.map(f => `app.use('/api/${f}', ${f}Service);`).join('\n')}

// IBM Granite AI Performance Optimizations
app.use((req, res, next) => {
    // AI-optimized caching strategy
    res.header('Cache-Control', 'public, max-age=31536000');
    next();
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
    console.log(\`ðŸš€ ${projectName} running on port \${PORT}\`);
    console.log('ðŸ¤– Powered by IBM Granite AI');
});

## Deployment Configuration
# Generated Dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm install
COPY . .
EXPOSE 3000
CMD ["npm", "start"]

## Environment Variables
NODE_ENV=production
DATABASE_URL=mongodb://localhost:27017/${projectName.toLowerCase()}
JWT_SECRET=ai_generated_secret_key
IBM_GRANITE_API_KEY=your_granite_api_key

## Next Steps
1. Clone the generated repository
2. Install dependencies: npm install
3. Configure environment variables
4. Deploy to your preferred platform
5. Access your live application!

# ðŸŽ‰ Project generated successfully with IBM Granite AI!
`;
        }

        function copyLink() {
            const link = document.getElementById('deploymentLink').textContent;
            navigator.clipboard.writeText(link).then(() => {
                alert('Link copied to clipboard!');
            });
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-populate some sample data for demo
            document.getElementById('projectName').value = 'AI DevTool';
            document.getElementById('projectDescription').value = 'An intelligent development automation platform powered by AI';
        });
    </script>
</body>
</html>
